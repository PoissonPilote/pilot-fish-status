const GeoData = module.exports;
const pg = require('./postgresql');
const SQL = require('sql-template');

GeoData.transect = [
  {"x":48.64025173323246,"y":-2.02921437077907},
  {"x":48.64033507882057,"y":-2.031918193380241},
  {"x":48.63893604523883,"y":-2.0378468409442703},
  {"x":48.640400564542595,"y":-2.039993729986396},
  {"x":48.64974033378068,"y":-2.050243104032695},
  {"x":48.65291867294089,"y":-2.0541416389460108},
  {"x":48.65589446325078,"y":-2.0596211465430683},
  {"x":48.66211329450326,"y":-2.0682176855109105},
  {"x":48.66507068795073,"y":-2.076598637294606},
  {"x":48.668819245673276,"y":-2.085141279466412},
  {"x":48.67465572715634,"y":-2.0907016322575243},
  {"x":48.68015246393949,"y":-2.093135970878512},
  {"x":48.694420936976364,"y":-2.1067898258744577},
  {"x":48.718909926789884,"y":-2.1313757476665},
  {"x":48.86881017032037,"y":-2.351705849864238},
  {"x":48.96019514682076,"y":-2.458322695224029},
  {"x":49.395759915792745,"y":-3.0104145254252352},
  {"x":50.19102626782775,"y":-4.113825665084455},
  {"x":50.300559863199226,"y":-4.151481559915379},
  {"x":50.32145277071717,"y":-4.156664635134236},
  {"x":50.33417267306763,"y":-4.166491817611581},
  {"x":50.343078016955644,"y":-4.1539248813357075},
  {"x":50.348527328368306,"y":-4.140306957537119}
];


GeoData.getTrace = () => {
  return pg.query(SQL`SELECT position_id, point, depth, datetime from position order by datetime asc`)
}
